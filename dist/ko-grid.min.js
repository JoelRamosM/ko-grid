!function e(t,r,i){function n(o,s){if(!r[o]){if(!t[o]){var l="function"==typeof require&&require;if(!s&&l)return l(o,!0);if(a)return a(o,!0);var c=new Error("Cannot find module '"+o+"'");throw c.code="MODULE_NOT_FOUND",c}var u=r[o]={exports:{}};t[o][0].call(u.exports,function(e){var r=t[o][1][e];return n(r?r:e)},u,u.exports,e,t,r,i)}return r[o].exports}for(var a="function"==typeof require&&require,o=0;o<i.length;o++)n(i[o]);return n}({1:[function(e,t,r){e("./extensions/doubleClickBindHandler.js"),e("./extensions/formatterBindHandler.js"),e("./components/register-all.js")},{"./components/register-all.js":8,"./extensions/doubleClickBindHandler.js":9,"./extensions/formatterBindHandler.js":10}],2:[function(e,t,r){ko.components.register("grid",{viewModel:e("./ViewModel.js"),template:e("./Template.html")})},{"./Template.html":3,"./ViewModel.js":4}],3:[function(e,t,r){t.exports='\ufeff<div class="box">\r\n    <div class="box-body">\r\n        <div class="dataTables_wrapper form-inline dt-bootstrap">\r\n            <div class="row">\r\n                <div class="col-sm-12">\r\n                    <table role="grid" class="table table-bordered table-hover dataTable">\r\n                        <thead>\r\n                            <tr>\r\n                                <!--ko if: isMultiSelect-->\r\n                                <td class="col-sm-1 text-center"><input type="checkbox" data-bind="checked: checkAll" /></td>\r\n                                <!--/ko-->\r\n                                <!--ko foreach: collumns-->\r\n                                <th data-bind="text:title"></th>\r\n                                <!--/ko-->\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody data-bind="foreach: dataSource().dataSet">\r\n                            <tr role="row" class="odd" data-bind="doubleClick: $parent.defaultAction.bind($parent)" title="De dois cliques na linha para editar item.">\r\n                                <!--ko if: $parent.isMultiSelect-->\r\n                                <td class="col-sm-1 text-center"><input type="checkbox" data-bind="value:$data.id, checked:$parent.selectedRows" /></td>\r\n                                <!--/ko-->\r\n                                <!--ko foreach: $parent.collumns-->\r\n                                <td data-bind="text: $parent[$data.prop], formatter: $data.format"></td>\r\n                                <!--/ko-->\r\n                            </tr>\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n            </div>\r\n            <div class="row">\r\n                <div class="col-sm-5"><span data-bind="text: dataSourceDescription"></span></div>\r\n                <div class="col-sm-7"><page-control class="right" params="{totalPages: totalPages, currentPage: currentPage, onGoTo: goToPage.bind($data), onNext: next.bind($data), onPrev:prev.bind($data)}"></page-control></div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>'},{}],4:[function(e,t,r){function i(e){e=e||{};var t=this;this.name=ko.observable(e.name),this.onRefresh=new ko.subscribable,this.onRefreshCallback=function(e){this.onRefresh.notifySubscribers(e)},this.isMultiSelect=ko.observable(e.isMultiSelect||void 0==e.isMultiSelect||null==e.isMultiSelect),this.defaulActionCallback=e.defaultAction,this.collumns=ko.observableArray(e.collumns),this.dataSource=ko.observable(new n({url:e.url,defaultAction:e.defaulAction,onRefresh:this.onRefreshCallback.bind(this)})),this.selectedRows=ko.observableArray([]),this.totalPages=ko.computed(function(){return this.dataSource().gridRequest().totalPages()},this),this.currentPage=ko.computed(function(){return this.dataSource().gridRequest().currentPage()},this),this.dataSourceDescription=ko.computed(function(){return"Mostrando "+this.dataSource().dataSet().length+" de "+this.dataSource().gridRequest().totalData()+"."},this),this.checkAll=ko.computed({read:function(){return this.selectedRows().length===this.dataSource().dataSet().length},write:function(e){e?(t.selectedRows.removeAll(),this.dataSource().dataSet().forEach(function(e){t.selectedRows.push(e.id)})):this.selectedRows.removeAll()},owner:this}),e.gridAPI&&ko.isObservable(e.gridAPI)?e.gridAPI(a(this)):e.gridAPI=a(this),this.dataSource().refresh()}var n=e("../../models/gridDataSource"),a=e("../../models/api/ApiGridBuilder");i.prototype.defaultAction=function(e){this.defaulActionCallback&&this.defaulActionCallback(e.id)},i.prototype.refresh=function(){this.dataSource().refresh()},i.prototype.filter=function(e){this.dataSource().refresh(e)},i.prototype.goToPage=function(e){this.dataSource().goto(e)},i.prototype.next=function(){this.dataSource().next()},i.prototype.prev=function(){this.dataSource().prev()},t.exports=i},{"../../models/api/ApiGridBuilder":12,"../../models/gridDataSource":13}],5:[function(e,t,r){ko.components.register("page-control",{viewModel:e("./ViewModel.js"),template:e("./Template.html")})},{"./Template.html":6,"./ViewModel.js":7}],6:[function(e,t,r){t.exports='\ufeff<div class="dataTables_paginate paging_simple_numbers" data-bind="visible: totalPages()>1">\r\n    <ul class="pagination">\r\n        <li data-bind="css:{\'disabled\':!prevPageEnable()}"><a aria-label="Previous" data-bind="click:prev"><span aria-hidden="true">&laquo;</span></a></li>\r\n        <!--<li data-bind="css:{\'disabled\':!nextPageEnable()},visible: ellipisisPrev"><span>...</span></li>-->\r\n        <!--ko foreach: pages-->\r\n        <li data-bind="css:{\'active\': $data.current}"><a data-bind="text:$data.value, click: $parent.goTo.bind($parent,$data.value)"> <span class="sr-only"></span></a></li>\r\n        <!--/ko-->\r\n        <li data-bind="css:{\'disabled\':!nextPageEnable()},visible: ellipisisNext"><span>...</span></li>\r\n        <li data-bind="css:{\'disabled\':!nextPageEnable()}"><a aria-label="Next" data-bind="click:next"><span aria-hidden="true">&raquo;</span></a></li>\r\n    </ul>\r\n</div>'},{}],7:[function(e,t,r){function i(e){this.totalPages=ko.isObservable(e.totalPages)?e.totalPages:ko.observable(e.totalPages),this.currentPage=ko.isObservable(e.currentPage)?e.currentPage:ko.observable(e.currentPage),this.controlSize=ko.observable(e.controlSize||5),this.pages=ko.computed(function(){var e=[];if(this.totalPages()<=this.controlSize())for(var t=0;t<this.totalPages();t++)e.push({value:t+1,current:t+1===this.currentPage()});else if(this.currentPage()>this.controlSize())for(var t=this.currentPage()-this.controlSize()+1;t<=this.currentPage();t++)e.push({value:t,current:t===this.currentPage()});else for(var t=0;t<this.controlSize();t++)e.push({value:t+1,current:t+1===this.currentPage()});return e},this),this.prevPageEnable=ko.computed(function(){return this.currentPage()>1},this),this.nextPageEnable=ko.computed(function(){return this.currentPage()<this.totalPages()},this),this.ellipisisNext=ko.computed(function(){return this.totalPages()>this.controlSize()&&this.totalPages()-this.currentPage()>0},this),this.ellipisisPrev=ko.computed(function(){return this.currentPage()-this.controlSize()>0},this),this.onNextCallback=e.onNext,this.onPrevCallback=e.onPrev,this.onGoToCallback=e.onGoTo,this.onChangeCallback=e.onChange,this.onChange=new ko.subscribable,this.onGoTo=new ko.subscribable,this.onNext=new ko.subscribable,this.onPrev=new ko.subscribable,this.onChange.subscribe(function(e){this.onChangeCallback&&this.onChangeCallback(e)},this),this.onNext.subscribe(function(e){this.onChange.notifySubscribers(e),this.onNextCallback&&this.onNextCallback(e)},this),this.onPrev.subscribe(function(e){this.onChange.notifySubscribers(e),this.onPrevCallback&&this.onPrevCallback(e)},this),this.onGoTo.subscribe(function(e){this.onChange.notifySubscribers(e),this.onGoToCallback&&this.onGoToCallback(e)},this)}i.prototype.next=function(e){this.nextPageEnable()&&this.onNext.notifySubscribers(e)},i.prototype.prev=function(e){this.prevPageEnable()&&this.onPrev.notifySubscribers(e)},i.prototype.goTo=function(e){this.onGoTo.notifySubscribers(e)},t.exports=i},{}],8:[function(e,t,r){e("./page-control/Register"),e("./grid/Register"),ko.applyBindings({})},{"./grid/Register":2,"./page-control/Register":5}],9:[function(e,t,r){ko.bindingHandlers.doubleClick={init:function(e,t,r,i,n){var a=t.bind(n)();ko.utils.registerEventHandler(e,"dblclick",function(e){a(i,e)})}}},{}],10:[function(e,t,r){ko.bindingHandlers.formatter={init:function(){},update:function(e,t,r,i,n){var a,o=ko.unwrap(t()),s=ko.unwrap(r.get("text"))||"";if("function"==typeof o)return void $(e).text(o(s));if("string"==typeof o){if("cpfcnpj"===o)return 11===s.length?a=s.replace(/(\d{3})(\d{3})(\d{3})(\d{2})/g,"$1.$2.$3-$4"):14===s.length&&(a=s.replace(/(\d{2})(\d{3})(\d{3})(\d{4})(\d{2})/g,"$1.$2.$3/$4-$5")),void $(e).text(a);if("date"===o){var l=moment(s).format("DD/MM/YYYY");return void $(e).text(l)}if("dateTime"===o){var l=moment(s).format("DD/MM/YYYY HH:mm");return void $(e).text(l)}}}}},{}],11:[function(e,t,r){function i(e,t,r,i,n,a){var o=$.ajax({method:e,url:t,data:r}).done(i).fail(n).always(a);return o}t.exports={get:function(e,t,r,n,a){return i("GET",e,t,r,n,a)},_delete:function(e,t,r,n,a){return i("DELETE",e,t,r,n,a)}}},{}],12:[function(e,t,r){function i(e){return{applyFilter:e.filter.bind(e),refresh:e.refresh.bind(e),onRefresh:e.onRefresh,selectedRows:e.selectedRows,dataSource:e.dataSource}}t.exports=i},{}],13:[function(e,t,r){function i(e){e=e||{};this.url=ko.isObservable(e.url)?e.url:ko.observable(e.url||""),this.urlNotInformed=ko.computed(function(){return!this.url()},this),this.gridRequest=ko.observable(new n),this.dataSet=ko.computed(function(){return this.gridRequest().data()},this),this.selected=ko.observableArray(),this.onRefresh=new ko.subscribable,this.onRefresh.subscribe(function(){e.onRefresh(this.gridRequest().data())},this)}var n=e("./gridRequest"),a=e("./ajax-request");i.prototype.next=function(){this.gridRequest().currentPage(this.gridRequest().currentPage()+1),this.refresh()},i.prototype.prev=function(){this.gridRequest().currentPage(this.gridRequest().currentPage()-1),this.refresh()},i.prototype.goto=function(e){this.gridRequest().currentPage(e),this.refresh()},i.prototype.refresh=function(e){var t=this;e=e||{};var r=ko.toJS(this.gridRequest());delete r.data;for(var i in e)e.hasOwnProperty(i)&&(r[i]=e[i]);var o=$.param(r);a.get(this.url(),o,function(e){t.gridRequest(new n(e)),t.onRefresh.notifySubscribers()})},t.exports=i},{"./ajax-request":11,"./gridRequest":14}],14:[function(e,t,r){function i(e){e=e||{},this.pageLength=ko.observable(e.pageLength||10),this.query=ko.observable(e.query||""),this.currentPage=ko.observable(e.currentPage||1),this.totalPages=ko.observable(e.totalPages||1),this.totalData=ko.observable(e.totalData||0),this.data=ko.observableArray(e.data||[])}t.exports=i},{}]},{},[1]);